[buildout]
extends =
    https://raw.github.com/collective/buildout.plonetest/master/travis-4.x.cfg
    https://raw.github.com/collective/buildout.plonetest/master/qa.cfg

package-name = collective.geo.bundle
package-extras = [test]
package-pep8-ignores = E501,W402,W801
package-coverage = 80

test-eggs =
    collective.geo.contentlocations [test]
    collective.geo.kml [test]
    collective.geo.mapwidget [test]
    collective.geo.openlayers [test]
    collective.geo.settings [test]
    collective.geo.geographer [test]

allow-hosts +=
    code.google.com
    robotframework.googlecode.com

parts+=
    test-all
    createzopecoverage
    coverage-sh
    flake8
    python-validation-sh
    css-validation-sh
    js-validation-sh

extensions =
    mr.developer

sources = sources
auto-checkout = *
always-checkout = force
sources-dir = extras
github-url = https://github.com/


[environment]
ZSERVER_HOST = 0.0.0.0
ROBOT_ZOPE_HOST = 0.0.0.0


[test]
defaults = ['--auto-color', '--auto-progress']
environment = environment


[test-all]
<= test
defaults = ['--auto-color', '--auto-progress', '-s', 'collective.geo']


[sources]
collective.geo.geographer = git ${buildout:github-url}collective/collective.geo.geographer.git
collective.geo.contentlocations = git ${buildout:github-url}collective/collective.geo.contentlocations.git
collective.geo.openlayers = git ${buildout:github-url}collective/collective.geo.openlayers.git
collective.geo.settings = git ${buildout:github-url}collective/collective.geo.settings.git
collective.geo.mapwidget = git ${buildout:github-url}collective/collective.geo.mapwidget.git
collective.geo.kml = git ${buildout:github-url}collective/collective.geo.kml.git
collective.geo.behaviour = git ${buildout:github-url}collective/collective.geo.behaviour.git
collective.z3cform.mapwidget = git ${buildout:github-url}collective/collective.z3cform.mapwidget.git
collective.z3cform.colorpicker = git ${buildout:github-url}collective/collective.z3cform.colorpicker.git
